schema: '2.0'
stages:
  download:
    cmd: python -m src.download -t ./images
    deps:
    - path: ./src/download.py
      md5: e40c3fbb13a361a2441ce17d9014cdba
      size: 2330
    outs:
    - path: ./images
      md5: 8de533284a55e161a76f3017a18e1127.dir
      size: 11442
      nfiles: 6
  run_style_transfer@The_Scream.jpg:
    cmd: python -m src.run_style_transfer -p ./params.yaml -content ./images/Tuebingen_Neckarfront.jpg
      -style ./images/The_Scream.jpg -ig content -o ./results/generated_The_Scream.jpg
      -l ./results/losses_The_Scream.jpg.json
    deps:
    - path: ./images
      md5: 9976d8132ac755ca51d0838d8915c8e2.dir
      size: 661268
      nfiles: 6
    - path: ./src/losses.py
      md5: f22846dbbf425739dca1d83ebfdeda53
      size: 6448
    - path: ./src/model.py
      md5: 3e7dce6682488ed2dc2c521b8f92cd24
      size: 3304
    - path: ./src/run_style_transfer.py
      md5: ce9ca42c0e03dfaa2c470fb6382feeff
      size: 6201
    - path: ./src/transforms.py
      md5: a940905c193697b24de3c623f8131088
      size: 2546
    params:
      params.yaml:
        train.iterations: 10
        train.loss.beta: 1000.0
        train.loss.normalize_gram_matrix: false
    outs:
    - path: ./results/generated_The_Scream.jpg
      md5: f14ca975d7d531ec9a1e4911e3808a2d
      size: 13775
    - path: ./results/losses_The_Scream.jpg.json
      md5: 68e49e6b6792b4a1ca8f2e0fcff039e2
      size: 58421
  run_style_transfer@Starry_Night_Van_Gogh.jpg:
    cmd: python -m src.run_style_transfer -p ./params.yaml -content ./images/Tuebingen_Neckarfront_Andreas_Praefcke.jpg
      -style ./images/Starry_Night_Van_Gogh.jpg -o ./results/generated_Starry_Night_Van_Gogh.jpg
    deps:
    - path: ./images
      md5: 63a0c33915fd9f1050c9919cc1924330.dir
      size: 379517
      nfiles: 6
    - path: ./src/losses.py
      md5: 18ef3182c0c56719c969443da2a0ca75
      size: 3878
    - path: ./src/model.py
      md5: 9c1911dd7b3a2ab29eae60ed775586d4
      size: 2032
    - path: ./src/run_style_transfer.py
      md5: 3eb2ca1273275dbc83e7ce453b6a0394
      size: 5155
    - path: ./src/transforms.py
      md5: a940905c193697b24de3c623f8131088
      size: 2546
    outs:
    - path: ./results/generated_Starry_Night_Van_Gogh.jpg
      md5: 7ce36e70044620ab2082e2c63a3d4f5d
      size: 23418
  run_style_transfer@Pablo_Picasso_Figure_dans_un_Fauteuil.jpg:
    cmd: python -m src.run_style_transfer -p ./params.yaml -content ./images/Tuebingen_Neckarfront.jpg
      -style ./images/Pablo_Picasso_Figure_dans_un_Fauteuil.jpg -ig content -o ./results/generated_Pablo_Picasso_Figure_dans_un_Fauteuil.jpg
      -l ./results/losses_Pablo_Picasso_Figure_dans_un_Fauteuil.jpg.json
    deps:
    - path: ./images
      md5: 9976d8132ac755ca51d0838d8915c8e2.dir
      size: 661268
      nfiles: 6
    - path: ./src/losses.py
      md5: f22846dbbf425739dca1d83ebfdeda53
      size: 6448
    - path: ./src/model.py
      md5: 3e7dce6682488ed2dc2c521b8f92cd24
      size: 3304
    - path: ./src/run_style_transfer.py
      md5: ce9ca42c0e03dfaa2c470fb6382feeff
      size: 6201
    - path: ./src/transforms.py
      md5: a940905c193697b24de3c623f8131088
      size: 2546
    params:
      params.yaml:
        train.iterations: 10
        train.loss.beta: 1000.0
        train.loss.normalize_gram_matrix: false
    outs:
    - path: ./results/generated_Pablo_Picasso_Figure_dans_un_Fauteuil.jpg
      md5: 17a9c6136c9af14f3f32cea4fe3c7d68
      size: 11004
    - path: ./results/losses_Pablo_Picasso_Figure_dans_un_Fauteuil.jpg.json
      md5: 425b4771a4771fc89115a895e09cf349
      size: 59112
  run_style_transfer@Vassily_Kandinsky_Composition_7.jpg:
    cmd: python -m src.run_style_transfer -p ./params.yaml -content ./images/Tuebingen_Neckarfront.jpg
      -style ./images/Vassily_Kandinsky_Composition_7.jpg -ig content -o ./results/generated_Vassily_Kandinsky_Composition_7.jpg
      -l ./results/losses_Vassily_Kandinsky_Composition_7.jpg.json
    deps:
    - path: ./images
      md5: 9976d8132ac755ca51d0838d8915c8e2.dir
      size: 661268
      nfiles: 6
    - path: ./src/losses.py
      md5: f22846dbbf425739dca1d83ebfdeda53
      size: 6448
    - path: ./src/model.py
      md5: 3e7dce6682488ed2dc2c521b8f92cd24
      size: 3304
    - path: ./src/run_style_transfer.py
      md5: ce9ca42c0e03dfaa2c470fb6382feeff
      size: 6201
    - path: ./src/transforms.py
      md5: a940905c193697b24de3c623f8131088
      size: 2546
    params:
      params.yaml:
        train.iterations: 10
        train.loss.beta: 1000.0
        train.loss.normalize_gram_matrix: false
    outs:
    - path: ./results/generated_Vassily_Kandinsky_Composition_7.jpg
      md5: 4bfa28a646ccaec96d3ca2f4f20a2f6a
      size: 23221
    - path: ./results/losses_Vassily_Kandinsky_Composition_7.jpg.json
      md5: fc10a5a0284ea57e1f0c5ce378c2c3a7
      size: 57859
  run_style_transfer@Van_Gogh_Starry_Night.jpg:
    cmd: python -m src.run_style_transfer -p ./params.yaml -content ./images/Tuebingen_Neckarfront.jpg
      -style ./images/Van_Gogh_Starry_Night.jpg -ig content -o ./results/generated_Van_Gogh_Starry_Night.jpg
      -l ./results/losses_Van_Gogh_Starry_Night.jpg.json
    deps:
    - path: ./images
      md5: 9976d8132ac755ca51d0838d8915c8e2.dir
      size: 661268
      nfiles: 6
    - path: ./src/losses.py
      md5: f22846dbbf425739dca1d83ebfdeda53
      size: 6448
    - path: ./src/model.py
      md5: 3e7dce6682488ed2dc2c521b8f92cd24
      size: 3304
    - path: ./src/run_style_transfer.py
      md5: ce9ca42c0e03dfaa2c470fb6382feeff
      size: 6201
    - path: ./src/transforms.py
      md5: a940905c193697b24de3c623f8131088
      size: 2546
    params:
      params.yaml:
        train.iterations: 10
        train.loss.beta: 1000.0
        train.loss.normalize_gram_matrix: false
    outs:
    - path: ./results/generated_Van_Gogh_Starry_Night.jpg
      md5: 8f6a4571720edc68be96c4ba319171cb
      size: 18680
    - path: ./results/losses_Van_Gogh_Starry_Night.jpg.json
      md5: f8692f78fec176d4f1cb250175ec5072
      size: 59297
  run_style_transfer@Shipwreck_of_the_Minotaur_William_Turner.jpg:
    cmd: python -m src.run_style_transfer -p ./params.yaml -content ./images/Tuebingen_Neckarfront.jpg
      -style ./images/Shipwreck_of_the_Minotaur_William_Turner.jpg -ig content -o
      ./results/generated_Shipwreck_of_the_Minotaur_William_Turner.jpg -l ./results/losses_Shipwreck_of_the_Minotaur_William_Turner.jpg.json
    deps:
    - path: ./images
      md5: 9976d8132ac755ca51d0838d8915c8e2.dir
      size: 661268
      nfiles: 6
    - path: ./src/losses.py
      md5: f22846dbbf425739dca1d83ebfdeda53
      size: 6448
    - path: ./src/model.py
      md5: 3e7dce6682488ed2dc2c521b8f92cd24
      size: 3304
    - path: ./src/run_style_transfer.py
      md5: ce9ca42c0e03dfaa2c470fb6382feeff
      size: 6201
    - path: ./src/transforms.py
      md5: a940905c193697b24de3c623f8131088
      size: 2546
    params:
      params.yaml:
        train.iterations: 10
        train.loss.beta: 1000.0
        train.loss.normalize_gram_matrix: false
    outs:
    - path: ./results/generated_Shipwreck_of_the_Minotaur_William_Turner.jpg
      md5: 624286c2d049e38f3edc8d43c4b1f04a
      size: 10794
    - path: ./results/losses_Shipwreck_of_the_Minotaur_William_Turner.jpg.json
      md5: 21b1a1e7ec09e588fabb5468768adcd6
      size: 60075
  plot_result_images:
    cmd: python -m src.plot_images -i ./results/generated_The_Scream.jpg -i ./results/generated_Van_Gogh_Starry_Night.jpg
      -i ./results/generated_Shipwreck_of_the_Minotaur_William_Turner.jpg -i ./results/generated_Pablo_Picasso_Figure_dans_un_Fauteuil.jpg
      -i ./results/generated_Vassily_Kandinsky_Composition_7.jpg -o ./results/style_transfer_results.jpg
      -t "Gram matrix normalization=False"
    deps:
    - path: ./results/generated_Pablo_Picasso_Figure_dans_un_Fauteuil.jpg
      md5: 17a9c6136c9af14f3f32cea4fe3c7d68
      size: 11004
    - path: ./results/generated_Shipwreck_of_the_Minotaur_William_Turner.jpg
      md5: 624286c2d049e38f3edc8d43c4b1f04a
      size: 10794
    - path: ./results/generated_The_Scream.jpg
      md5: f14ca975d7d531ec9a1e4911e3808a2d
      size: 13775
    - path: ./results/generated_Van_Gogh_Starry_Night.jpg
      md5: 8f6a4571720edc68be96c4ba319171cb
      size: 18680
    - path: ./results/generated_Vassily_Kandinsky_Composition_7.jpg
      md5: 4bfa28a646ccaec96d3ca2f4f20a2f6a
      size: 23221
    - path: ./src/plot_images.py
      md5: ecd647068f190e031779a5dd26429d23
      size: 925
    outs:
    - path: ./results/style_transfer_results.jpg
      md5: 919401a615640bc7156d59adfc3bee07
      size: 250733
